<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>bower_components/underscore.string/test/test_underscore/vendor/jslitmus.js - yocto-core-stack</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="yocto-core-stack" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.0.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/Gruntfile.html">Gruntfile</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/copy.html">copy</a></li>
                                <li><a href="../modules/Grunt file.html">Grunt file</a></li>
                                <li><a href="../modules/jshint.html">jshint</a></li>
                                <li><a href="../modules/ng.html">ng</a></li>
                                <li><a href="../modules/ngMessages.html">ngMessages</a></li>
                                <li><a href="../modules/ngMock.html">ngMock</a></li>
                                <li><a href="../modules/ngMockE2E.html">ngMockE2E</a></li>
                                <li><a href="../modules/uglify.html">uglify</a></li>
                                <li><a href="../modules/yuidoc.html">yuidoc</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: bower_components/underscore.string/test/test_underscore/vendor/jslitmus.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
// JSLitmus.js
//
// History:
//   2008-10-27: Initial release
//   2008-11-09: Account for iteration loop overhead
//   2008-11-13: Added OS detection
//   2009-02-25: Create tinyURL automatically, shift-click runs tests in reverse
//
// Copyright (c) 2008-2009, Robert Kieffer
// All Rights Reserved
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the
// Software), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND,
// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

(function() {
  // Private methods and state

  // Get platform info but don&#x27;t go crazy trying to recognize everything
  // that&#x27;s out there.  This is just for the major platforms and OSes.
  var platform = &#x27;unknown platform&#x27;, ua = navigator.userAgent;

  // Detect OS
  var oses = [&#x27;Windows&#x27;,&#x27;iPhone OS&#x27;,&#x27;(Intel |PPC )?Mac OS X&#x27;,&#x27;Linux&#x27;].join(&#x27;|&#x27;);
  var pOS = new RegExp(&#x27;((&#x27; + oses + &#x27;) [^ \);]*)&#x27;).test(ua) ? RegExp.$1 : null;
  if (!pOS) pOS = new RegExp(&#x27;((&#x27; + oses + &#x27;)[^ \);]*)&#x27;).test(ua) ? RegExp.$1 : null;

  // Detect browser
  var pName = /(Chrome|MSIE|Safari|Opera|Firefox)/.test(ua) ? RegExp.$1 : null;

  // Detect version
  var vre = new RegExp(&#x27;(Version|&#x27; + pName + &#x27;)[ \/]([^ ;]*)&#x27;);
  var pVersion = (pName &amp;&amp; vre.test(ua)) ? RegExp.$2 : null;
  var platform = (pOS &amp;&amp; pName &amp;&amp; pVersion) ? pName + &#x27; &#x27;  + pVersion + &#x27; on &#x27; + pOS : &#x27;unknown platform&#x27;;

  /**
  * A smattering of methods that are needed to implement the JSLitmus testbed.
  */
  var jsl = {
    /**
    * Enhanced version of escape()
    */
    escape: function(s) {
      s = s.replace(/,/g, &#x27;\\,&#x27;);
      s = escape(s);
      s = s.replace(/\+/g, &#x27;%2b&#x27;);
      s = s.replace(/ /g, &#x27;+&#x27;);
      return s;
    },

    /**
    * Get an element by ID.
    */
    $: function(id) {
      return document.getElementById(id);
    },

    /**
    * Null function
    */
    F: function() {},

    /**
    * Set the status shown in the UI
    */
    status: function(msg) {
      var el = jsl.$(&#x27;jsl_status&#x27;);
      if (el) el.innerHTML = msg || &#x27;&#x27;;
    },

    /**
    * Convert a number to an abbreviated string like, &quot;15K&quot; or &quot;10M&quot;
    */
    toLabel: function(n) {
      if (n == Infinity) {
        return &#x27;Infinity&#x27;;
      } else if (n &gt; 1e9) {
        n = Math.round(n/1e8);
        return n/10 + &#x27;B&#x27;;
      } else if (n &gt; 1e6) {
        n = Math.round(n/1e5);
        return n/10 + &#x27;M&#x27;;
      } else if (n &gt; 1e3) {
        n = Math.round(n/1e2);
        return n/10 + &#x27;K&#x27;;
      }
      return n;
    },

    /**
    * Copy properties from src to dst
    */
    extend: function(dst, src) {
      for (var k in src) dst[k] = src[k]; return dst;
    },

    /**
    * Like Array.join(), but for the key-value pairs in an object
    */
    join: function(o, delimit1, delimit2) {
      if (o.join) return o.join(delimit1);  // If it&#x27;s an array
      var pairs = [];
      for (var k in o) pairs.push(k + delimit1 + o[k]);
      return pairs.join(delimit2);
    },

    /**
    * Array#indexOf isn&#x27;t supported in IE, so we use this as a cross-browser solution
    */
    indexOf: function(arr, o) {
      if (arr.indexOf) return arr.indexOf(o);
      for (var i = 0; i &lt; this.length; i++) if (arr[i] === o) return i;
      return -1;
    }
  };

  /**
  * Test manages a single test (created with
  * JSLitmus.test())
  * 
  * @private
  */
  var Test = function (name, f) {
    if (!f) throw new Error(&#x27;Undefined test function&#x27;);
    if (!(/function[^\(]*\(([^,\)]*)/).test(f.toString())) {
      throw new Error(&#x27;&quot;&#x27; + name + &#x27;&quot; test: Test is not a valid Function object&#x27;);
    }
    this.loopArg = RegExp.$1;
    this.name = name;
    this.f = f;
  };
  
  jsl.extend(Test, /** @lends Test */ {
    /** Calibration tests for establishing iteration loop overhead */
    CALIBRATIONS: [
      new Test(&#x27;calibrating loop&#x27;, function(count) {while (count--);}),
      new Test(&#x27;calibrating function&#x27;, jsl.F)
    ],

    /**
    * Run calibration tests.  Returns true if calibrations are not yet
    * complete (in which case calling code should run the tests yet again).
    * onCalibrated - Callback to invoke when calibrations have finished
    */
    calibrate: function(onCalibrated) {
      for (var i = 0; i &lt; Test.CALIBRATIONS.length; i++) { 
        var cal = Test.CALIBRATIONS[i];
        if (cal.running) return true;
        if (!cal.count) {
          cal.isCalibration = true;
          cal.onStop = onCalibrated;
          //cal.MIN_TIME = .1; // Do calibrations quickly
          cal.run(2e4);
          return true;
        }
      }
      return false;
    }
  });

  jsl.extend(Test.prototype, {/** @lends Test.prototype */
    /** Initial number of iterations */
    INIT_COUNT: 10,
    /** Max iterations allowed (i.e. used to detect bad looping functions) */
    MAX_COUNT: 1e9,
    /** Minimum time a test should take to get valid results (secs) */
    MIN_TIME: .5,

    /** Callback invoked when test state changes */
    onChange: jsl.F,

    /** Callback invoked when test is finished */
    onStop: jsl.F,

    /**
     * Reset test state
     */
    reset: function() {
      delete this.count;
      delete this.time;
      delete this.running;
      delete this.error;
    },

    /**
    * Run the test (in a timeout). We use a timeout to make sure the browser
    * has a chance to finish rendering any UI changes we&#x27;ve made, like
    * updating the status message.
    */
    run: function(count) {
      count = count || this.INIT_COUNT;
      jsl.status(this.name + &#x27; x &#x27; + count);
      this.running = true;
      var me = this;
      setTimeout(function() {me._run(count);}, 200);
    },

    /**
     * The nuts and bolts code that actually runs a test
     */
    _run: function(count) {
      var me = this;

      // Make sure calibration tests have run
      if (!me.isCalibration &amp;&amp; Test.calibrate(function() {me.run(count);})) return;
      this.error = null;

      try {
        var start, f = this.f, now, i = count;

        // Start the timer
        start = new Date();

        // Now for the money shot.  If this is a looping function ...
        if (this.loopArg) {
          // ... let it do the iteration itself
          f(count);
        } else {
          // ... otherwise do the iteration for it
          while (i--) f();
        }

        // Get time test took (in secs)
        this.time = Math.max(1,new Date() - start)/1000;

        // Store iteration count and per-operation time taken
        this.count = count;
        this.period = this.time/count;

        // Do we need to do another run?
        this.running = this.time &lt;= this.MIN_TIME;

        // ... if so, compute how many times we should iterate
        if (this.running) {
          // Bump the count to the nearest power of 2
          var x = this.MIN_TIME/this.time;
          var pow = Math.pow(2, Math.max(1, Math.ceil(Math.log(x)/Math.log(2))));
          count *= pow;
          if (count &gt; this.MAX_COUNT) {
            throw new Error(&#x27;Max count exceeded.  If this test uses a looping function, make sure the iteration loop is working properly.&#x27;);
          }
        }
      } catch (e) {
        // Exceptions are caught and displayed in the test UI
        this.reset();
        this.error = e;
      }

      // Figure out what to do next
      if (this.running) {
        me.run(count);
      } else {
        jsl.status(&#x27;&#x27;);
        me.onStop(me);
      }

      // Finish up
      this.onChange(this);
    },

    /**
    * Get the number of operations per second for this test.
    * 
    * @param normalize if true, iteration loop overhead taken into account
    */
    getHz: function(/**Boolean*/ normalize) {
      var p = this.period;

      // Adjust period based on the calibration test time
      if (normalize &amp;&amp; !this.isCalibration) {
        var cal = Test.CALIBRATIONS[this.loopArg ? 0 : 1];

        // If the period is within 20% of the calibration time, then zero the
        // it out
        p = p &lt; cal.period*1.2 ? 0 : p - cal.period;
      }

      return Math.round(1/p);
    },

    /**
    * Get a friendly string describing the test
    */
    toString: function() {
      return this.name + &#x27; - &#x27;  + this.time/this.count + &#x27; secs&#x27;;
    }
  });

  // CSS we need for the UI
  var STYLESHEET = &#x27;&lt;style&gt; \
    #jslitmus {font-family:sans-serif; font-size: 12px;} \
    #jslitmus a {text-decoration: none;} \
    #jslitmus a:hover {text-decoration: underline;} \
    #jsl_status { \
      margin-top: 10px; \
      font-size: 10px; \
      color: #888; \
    } \
    A IMG  {border:none} \
    #test_results { \
      margin-top: 10px; \
      font-size: 12px; \
      font-family: sans-serif; \
      border-collapse: collapse; \
      border-spacing: 0px; \
    } \
    #test_results th, #test_results td { \
      border: solid 1px #ccc; \
      vertical-align: top; \
      padding: 3px; \
    } \
    #test_results th { \
      vertical-align: bottom; \
      background-color: #ccc; \
      padding: 1px; \
      font-size: 10px; \
    } \
    #test_results #test_platform { \
      color: #444; \
      text-align:center; \
    } \
    #test_results .test_row { \
      color: #006; \
      cursor: pointer; \
    } \
    #test_results .test_nonlooping { \
      border-left-style: dotted; \
      border-left-width: 2px; \
    } \
    #test_results .test_looping { \
      border-left-style: solid; \
      border-left-width: 2px; \
    } \
    #test_results .test_name {white-space: nowrap;} \
    #test_results .test_pending { \
    } \
    #test_results .test_running { \
      font-style: italic; \
    } \
    #test_results .test_done {} \
    #test_results .test_done { \
      text-align: right; \
      font-family: monospace; \
    } \
    #test_results .test_error {color: #600;} \
    #test_results .test_error .error_head {font-weight:bold;} \
    #test_results .test_error .error_body {font-size:85%;} \
    #test_results .test_row:hover td { \
      background-color: #ffc; \
      text-decoration: underline; \
    } \
    #chart { \
      margin: 10px 0px; \
      width: 250px; \
    } \
    #chart img { \
      border: solid 1px #ccc; \
      margin-bottom: 5px; \
    } \
    #chart #tiny_url { \
      height: 40px; \
      width: 250px; \
    } \
    #jslitmus_credit { \
      font-size: 10px; \
      color: #888; \
      margin-top: 8px; \
    } \
    &lt;/style&gt;&#x27;;

  // HTML markup for the UI
  var MARKUP = &#x27;&lt;div id=&quot;jslitmus&quot;&gt; \
      &lt;button onclick=&quot;JSLitmus.runAll(event)&quot;&gt;Run Tests&lt;/button&gt; \
      &lt;button id=&quot;stop_button&quot; disabled=&quot;disabled&quot; onclick=&quot;JSLitmus.stop()&quot;&gt;Stop Tests&lt;/button&gt; \
      &lt;br \&gt; \
      &lt;br \&gt; \
      &lt;input type=&quot;checkbox&quot; style=&quot;vertical-align: middle&quot; id=&quot;test_normalize&quot; checked=&quot;checked&quot; onchange=&quot;JSLitmus.renderAll()&quot;&quot;&gt; Normalize results \
      &lt;table id=&quot;test_results&quot;&gt; \
        &lt;colgroup&gt; \
          &lt;col /&gt; \
          &lt;col width=&quot;100&quot; /&gt; \
        &lt;/colgroup&gt; \
        &lt;tr&gt;&lt;th id=&quot;test_platform&quot; colspan=&quot;2&quot;&gt;&#x27; + platform + &#x27;&lt;/th&gt;&lt;/tr&gt; \
        &lt;tr&gt;&lt;th&gt;Test&lt;/th&gt;&lt;th&gt;Ops/sec&lt;/th&gt;&lt;/tr&gt; \
        &lt;tr id=&quot;test_row_template&quot; class=&quot;test_row&quot; style=&quot;display:none&quot;&gt; \
          &lt;td class=&quot;test_name&quot;&gt;&lt;/td&gt; \
          &lt;td class=&quot;test_result&quot;&gt;Ready&lt;/td&gt; \
        &lt;/tr&gt; \
      &lt;/table&gt; \
      &lt;div id=&quot;jsl_status&quot;&gt;&lt;/div&gt; \
      &lt;div id=&quot;chart&quot; style=&quot;display:none&quot;&gt; \
      &lt;a id=&quot;chart_link&quot; target=&quot;_blank&quot;&gt;&lt;img id=&quot;chart_image&quot;&gt;&lt;/a&gt; \
      TinyURL (for chart): \
      &lt;iframe id=&quot;tiny_url&quot; frameBorder=&quot;0&quot; scrolling=&quot;no&quot; src=&quot;&quot;&gt;&lt;/iframe&gt; \
      &lt;/div&gt; \
      &lt;a id=&quot;jslitmus_credit&quot; title=&quot;JSLitmus home page&quot; href=&quot;http://code.google.com/p/jslitmus&quot; target=&quot;_blank&quot;&gt;Powered by JSLitmus&lt;/a&gt; \
    &lt;/div&gt;&#x27;;

  /**
   * The public API for creating and running tests
   */
  window.JSLitmus = {
    /** The list of all tests that have been registered with JSLitmus.test */
    _tests: [],
    /** The queue of tests that need to be run */
    _queue: [],

    /**
    * The parsed query parameters the current page URL.  This is provided as a
    * convenience for test functions - it&#x27;s not used by JSLitmus proper
    */
    params: {},

    /**
     * Initialize
     */
    _init: function() {
      // Parse query params into JSLitmus.params[] hash
      var match = (location + &#x27;&#x27;).match(/([^?#]*)(#.*)?$/);
      if (match) {
        var pairs = match[1].split(&#x27;&amp;&#x27;);
        for (var i = 0; i &lt; pairs.length; i++) {
          var pair = pairs[i].split(&#x27;=&#x27;);
          if (pair.length &gt; 1) {
            var key = pair.shift();
            var value = pair.length &gt; 1 ? pair.join(&#x27;=&#x27;) : pair[0];
            this.params[key] = value;
          }
        }
      }

      // Write out the stylesheet.  We have to do this here because IE
      // doesn&#x27;t honor sheets written after the document has loaded.
      document.write(STYLESHEET);

      // Setup the rest of the UI once the document is loaded
      if (window.addEventListener) {
        window.addEventListener(&#x27;load&#x27;, this._setup, false);
      } else if (document.addEventListener) {
        document.addEventListener(&#x27;load&#x27;, this._setup, false);
      } else if (window.attachEvent) {
        window.attachEvent(&#x27;onload&#x27;, this._setup);
      }

      return this;
    },

    /**
     * Set up the UI
     */
    _setup: function() {
      var el = jsl.$(&#x27;jslitmus_container&#x27;);
      if (!el) document.body.appendChild(el = document.createElement(&#x27;div&#x27;));

      el.innerHTML = MARKUP;

      // Render the UI for all our tests
      for (var i=0; i &lt; JSLitmus._tests.length; i++)
        JSLitmus.renderTest(JSLitmus._tests[i]);
    },

    /**
     * (Re)render all the test results
     */
    renderAll: function() {
      for (var i = 0; i &lt; JSLitmus._tests.length; i++)
        JSLitmus.renderTest(JSLitmus._tests[i]);
      JSLitmus.renderChart();
    },

    /**
     * (Re)render the chart graphics
     */
    renderChart: function() {
      var url = JSLitmus.chartUrl();
      jsl.$(&#x27;chart_link&#x27;).href = url;
      jsl.$(&#x27;chart_image&#x27;).src = url;
      jsl.$(&#x27;chart&#x27;).style.display = &#x27;&#x27;;

      // Update the tiny URL
      jsl.$(&#x27;tiny_url&#x27;).src = &#x27;http://tinyurl.com/api-create.php?url=&#x27;+escape(url);
    },

    /**
     * (Re)render the results for a specific test
     */
    renderTest: function(test) {
      // Make a new row if needed
      if (!test._row) {
        var trow = jsl.$(&#x27;test_row_template&#x27;);
        if (!trow) return;

        test._row = trow.cloneNode(true);
        test._row.style.display = &#x27;&#x27;;
        test._row.id = &#x27;&#x27;;
        test._row.onclick = function() {JSLitmus._queueTest(test);};
        test._row.title = &#x27;Run &#x27; + test.name + &#x27; test&#x27;;
        trow.parentNode.appendChild(test._row);
        test._row.cells[0].innerHTML = test.name;
      }

      var cell = test._row.cells[1];
      var cns = [test.loopArg ? &#x27;test_looping&#x27; : &#x27;test_nonlooping&#x27;];

      if (test.error) {
        cns.push(&#x27;test_error&#x27;);
        cell.innerHTML = 
        &#x27;&lt;div class=&quot;error_head&quot;&gt;&#x27; + test.error + &#x27;&lt;/div&gt;&#x27; +
        &#x27;&lt;ul class=&quot;error_body&quot;&gt;&lt;li&gt;&#x27; +
          jsl.join(test.error, &#x27;: &#x27;, &#x27;&lt;/li&gt;&lt;li&gt;&#x27;) +
          &#x27;&lt;/li&gt;&lt;/ul&gt;&#x27;;
      } else {
        if (test.running) {
          cns.push(&#x27;test_running&#x27;);
          cell.innerHTML = &#x27;running&#x27;;
        } else if (jsl.indexOf(JSLitmus._queue, test) &gt;= 0) {
          cns.push(&#x27;test_pending&#x27;);
          cell.innerHTML = &#x27;pending&#x27;;
        } else if (test.count) {
          cns.push(&#x27;test_done&#x27;);
          var hz = test.getHz(jsl.$(&#x27;test_normalize&#x27;).checked);
          cell.innerHTML = hz != Infinity ? hz : &#x27;&amp;infin;&#x27;;
        } else {
          cell.innerHTML = &#x27;ready&#x27;;
        }
      }
      cell.className = cns.join(&#x27; &#x27;);
    },

    /**
     * Create a new test
     */
    test: function(name, f) {
      // Create the Test object
      var test = new Test(name, f);
      JSLitmus._tests.push(test);

      // Re-render if the test state changes
      test.onChange = JSLitmus.renderTest;

      // Run the next test if this one finished
      test.onStop = function(test) {
        if (JSLitmus.onTestFinish) JSLitmus.onTestFinish(test);
        JSLitmus.currentTest = null;
        JSLitmus._nextTest();
      };

      // Render the new test
      this.renderTest(test);
    },

    /**
     * Add all tests to the run queue
     */
    runAll: function(e) {
      e = e || window.event;
      var reverse = e &amp;&amp; e.shiftKey, len = JSLitmus._tests.length;
      for (var i = 0; i &lt; len; i++) {
        JSLitmus._queueTest(JSLitmus._tests[!reverse ? i : (len - i - 1)]);
      }
    },

    /**
     * Remove all tests from the run queue.  The current test has to finish on
     * it&#x27;s own though
     */
    stop: function() {
      while (JSLitmus._queue.length) {
        var test = JSLitmus._queue.shift();
        JSLitmus.renderTest(test);
      }
    },

    /**
     * Run the next test in the run queue
     */
    _nextTest: function() {
      if (!JSLitmus.currentTest) {
        var test = JSLitmus._queue.shift();
        if (test) {
          jsl.$(&#x27;stop_button&#x27;).disabled = false;
          JSLitmus.currentTest = test;
          test.run();
          JSLitmus.renderTest(test);
          if (JSLitmus.onTestStart) JSLitmus.onTestStart(test);
        } else {
          jsl.$(&#x27;stop_button&#x27;).disabled = true;
          JSLitmus.renderChart();
        }
      }
    },

    /**
     * Add a test to the run queue
     */
    _queueTest: function(test) {
      if (jsl.indexOf(JSLitmus._queue, test) &gt;= 0) return;
      JSLitmus._queue.push(test);
      JSLitmus.renderTest(test);
      JSLitmus._nextTest();
    },

    /**
     * Generate a Google Chart URL that shows the data for all tests
     */
    chartUrl: function() {
      var n = JSLitmus._tests.length, markers = [], data = [];
      var d, min = 0, max = -1e10;
      var normalize = jsl.$(&#x27;test_normalize&#x27;).checked;

      // Gather test data
      for (var i=0; i &lt; JSLitmus._tests.length; i++) {
        var test = JSLitmus._tests[i];
        if (test.count) {
          var hz = test.getHz(normalize);
          var v = hz != Infinity ? hz : 0;
          data.push(v);
          markers.push(&#x27;t&#x27; + jsl.escape(test.name + &#x27;(&#x27; + jsl.toLabel(hz)+ &#x27;)&#x27;) + &#x27;,000000,0,&#x27; +
            markers.length + &#x27;,10&#x27;);
          max = Math.max(v, max);
        }
      }
      if (markers.length &lt;= 0) return null;

      // Build chart title
      var title = document.getElementsByTagName(&#x27;title&#x27;);
      title = (title &amp;&amp; title.length) ? title[0].innerHTML : null;
      var chart_title = [];
      if (title) chart_title.push(title);
      chart_title.push(&#x27;Ops/sec (&#x27; + platform + &#x27;)&#x27;);

      // Build labels
      var labels = [jsl.toLabel(min), jsl.toLabel(max)];

      var w = 250, bw = 15;
      var bs = 5;
      var h = markers.length*(bw + bs) + 30 + chart_title.length*20;

      var params = {
        chtt: escape(chart_title.join(&#x27;|&#x27;)),
        chts: &#x27;000000,10&#x27;,
        cht: &#x27;bhg&#x27;,                     // chart type
        chd: &#x27;t:&#x27; + data.join(&#x27;,&#x27;),     // data set
        chds: min + &#x27;,&#x27; + max,          // max/min of data
        chxt: &#x27;x&#x27;,                      // label axes
        chxl: &#x27;0:|&#x27; + labels.join(&#x27;|&#x27;), // labels
        chsp: &#x27;0,1&#x27;,
        chm: markers.join(&#x27;|&#x27;),         // test names
        chbh: [bw, 0, bs].join(&#x27;,&#x27;),    // bar widths
        // chf: &#x27;bg,lg,0,eeeeee,0,eeeeee,.5,ffffff,1&#x27;, // gradient
        chs: w + &#x27;x&#x27; + h
      };
      return &#x27;http://chart.apis.google.com/chart?&#x27; + jsl.join(params, &#x27;=&#x27;, &#x27;&amp;&#x27;);
    } 
  };

  JSLitmus._init();
})();
    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
