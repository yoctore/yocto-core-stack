/* yocto-core-stack - Core package for Yoctopus tools. - V3.0.0 */

"use strict";var Q=require("q"),joi=require("joi"),_=require("lodash");function Configure(){this.rules={}}Configure.prototype.init=function(e){var r=Q.defer(),o={logger:joi.object().keys({level:joi.string().default("debug").allow(["debug","versobe","warning","error","info"]),rotate:joi.object().keys({path:joi.string().required().empty(),name:joi.string().required().empty()}).default({enable:!1,path:""}).allow(["path","name"])}).allow(["level","rotate"]).default({level:"debug"})},i=joi.object().keys({modules:joi.array().items(joi.string().required().empty()).default([]),config:joi.string().required().empty(),env:joi.object().keys({development:joi.object().required().keys(o),staging:joi.object().required().keys(o),production:joi.object().required().keys(o)}).allow(["development","staging","production"])}).allow(["modules","config","env"]),t=joi.validate(e,i);return _.isNull(t.error)?(this.rules=t.value,r.resolve(t.value)):r.reject(t.error),r.promise},module.exports=new Configure;